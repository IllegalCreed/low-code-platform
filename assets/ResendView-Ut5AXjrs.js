import{e as A,f as E,u as y,r as R,o as S,d as U,g as s,t as o,h as t,i as c,m as q,j as B,w as m,b as d,k as I,n as N,a as $,p as F,_ as T}from"./index-CcCMKRKU.js";import{a as j,u as D,b as M,t as O,c as P,d as z}from"./validateCatch-DBvZs2JT.js";import"./base-D4jtK3hA.js";import"./isObject-CWTNhToz.js";const G={class:"resend-root-container"},H={class:"title"},J={class:"description"},K={class:"error-message"},L={flex:"","flex-row":"","items-center":"","mt-4":"","w-70":"","text-3":"","space-x-2":""},Q=A({__name:"ResendView",setup(W){const l=E(),{t:a}=y(),{checkCatch:p}=j(),{emailCheck:_,resendActiveEmail:h}=D(),i=R(""),{handleSubmit:f,isSubmitting:g,defineField:v}=M({validationSchema:O(P({email:z().email(()=>a("accountValidate.emailValidError")).required(()=>a("accountValidate.emailRequiredError")).test("unique-email",()=>a("accountValidate.emailUniqueError"),async(n,e)=>await p(n,e.path,()=>_(n))).default("")}))}),[r,V]=v("email",n=>({props:{error:n.errors[0]},validateOnModelUpdate:!1}));function b(){i.value="",f(async n=>{try{await h(n.email),l.push("activate")}catch(e){e!=null&&e.msg&&(i.value=e==null?void 0:e.msg)}})()}return(n,e)=>{const k=I,x=N,C=$,w=F;return S(),U("div",G,[s("span",H,o(t(a)("account.activateAccount").toUpperCase()),1),s("span",J,o(t(a)("account.resendActivationEmail")),1),c(k,q({class:"account-input",modelValue:t(r),"onUpdate:modelValue":e[0]||(e[0]=u=>B(r)?r.value=u:null),placeholder:t(a)("account.email"),clearable:""},t(V)),null,16,["modelValue","placeholder"]),s("span",K,o(t(i)),1),c(x,{id:"register-btn",onClick:b,loading:t(g)},{default:m(()=>[d(o(t(a)("account.send")),1)]),_:1},8,["loading"]),s("div",L,[s("span",null,o(t(a)("account.alreadyActivated")),1),c(C,{onClick:e[1]||(e[1]=u=>t(l).push({name:"login"}))},{default:m(()=>[d(o(t(a)("account.signIn")),1)]),_:1})]),c(w,{absolute:"","top-4":"","right-8":""})])}}}),te=T(Q,[["__scopeId","data-v-840e7ffc"]]);export{te as default};
