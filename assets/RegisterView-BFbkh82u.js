import{e as I,u as M,r as F,f as L,o as T,d as j,g as l,t as o,h as e,i as n,m as d,j as p,w as c,b as i,k as z,a as D,l as P,n as Z,p as G,_ as H}from"./index-vJw7gRPi.js";import{u as J,a as K,t as Q,c as W,b as w,d as X}from"./validateCatch-D9LP_wPJ.js";import{u as Y}from"./user-2fScTtqu.js";import"./base-CfxAHQAn.js";import"./isObject-CWTNhToz.js";const ee={class:"register-root-container"},ae={class:"title"},te={class:"description"},re={flex:"","flex-row":"","items-center":"","mb-7":"","w-70":"","text-3":""},oe={class:"error-message"},se={flex:"","flex-row":"","items-center":"","mt-4":"","w-70":"","text-3":"","space-x-2":""},ne={flex:"","flex-row":"","items-center":"","mt-2":"","w-70":"","text-3":"","space-x-2":""},le=I({__name:"RegisterView",setup(ce){const{t:a}=M(),{register:v,usernameCheck:E,emailCheck:b}=Y(),{checkCatch:x}=J(),k=F(""),{handleSubmit:C,isSubmitting:U,defineField:u}=K({validationSchema:Q(W({username:w().required(()=>a("accountValidate.usernameRequiredError")).test("unique-username",()=>a("accountValidate.usernameUniqueError"),async(t,r)=>await x(t,r.path,()=>E(t))).default(""),email:w().email(()=>a("accountValidate.emailValidError")).required(()=>a("accountValidate.emailRequiredError")).test("unique-email",()=>a("accountValidate.emailUniqueError"),async(t,r)=>await x(t,r.path,()=>b(t))).default(""),password:w().required(()=>a("accountValidate.passwordRequiredError")).matches(/.{8,}/,()=>a("accountValidate.passwordLengthError")).matches(/[A-Z]/,()=>a("accountValidate.passwordUppercaseError")).matches(/[a-z]/,()=>a("accountValidate.passwordLowercaseError")).matches(/\d/,()=>a("accountValidate.passwordNumberError")).matches(/[@$!%*?&]/,()=>a("accountValidate.passwordSpecialCharError")).default(""),isAgree:X().oneOf([!0],()=>a("accountValidate.termsAgreementError")).default(!1)}))}),[m,y]=u("username",t=>({props:{error:t.errors[0]},validateOnModelUpdate:!1})),[_,q]=u("password",t=>({props:{error:t.errors[0]},validateOnModelUpdate:t.errors.length>0})),[h,R]=u("email",t=>({props:{error:t.errors[0]},validateOnModelUpdate:!1})),[g,S]=u("isAgree",{props:t=>({error:t.errors[0]})}),A=L(),$=C(async t=>{try{await v({username:t.username,password:t.password,email:t.email})}catch{}});return(t,r)=>{const f=z,V=D,N=P,O=Z,B=G;return T(),j("div",ee,[l("span",ae,o(e(a)("account.signUp").toUpperCase()),1),l("span",te,o(e(a)("account.createAccount")),1),n(f,d({class:"account-input",modelValue:e(m),"onUpdate:modelValue":r[0]||(r[0]=s=>p(m)?m.value=s:null),placeholder:e(a)("account.account"),clearable:""},e(y)),null,16,["modelValue","placeholder"]),n(f,d({class:"account-input",modelValue:e(h),"onUpdate:modelValue":r[1]||(r[1]=s=>p(h)?h.value=s:null),placeholder:e(a)("account.email"),type:"email",clearable:""},e(R)),null,16,["modelValue","placeholder"]),n(f,d({class:"account-input",modelValue:e(_),"onUpdate:modelValue":r[2]||(r[2]=s=>p(_)?_.value=s:null),placeholder:e(a)("account.password"),type:"password",clearable:"","show-password":""},e(q)),null,16,["modelValue","placeholder"]),l("div",re,[n(N,d({modelValue:e(g),"onUpdate:modelValue":r[3]||(r[3]=s=>p(g)?g.value=s:null)},e(S)),{default:c(()=>[i(o(e(a)("account.agree"))+" ",1),n(V,{"ml-1":"",href:"/policy"},{default:c(()=>[i(o(e(a)("account.privacy")),1)]),_:1})]),_:1},16,["modelValue"])]),l("span",oe,o(e(k)),1),n(O,{id:"register-btn",onClick:e($),loading:e(U)},{default:c(()=>[i(o(e(a)("account.register")),1)]),_:1},8,["onClick","loading"]),l("div",se,[l("span",null,o(e(a)("account.haveAccount")),1),n(V,{onClick:r[4]||(r[4]=s=>e(A).push({name:"login"}))},{default:c(()=>[i(o(e(a)("account.signIn")),1)]),_:1})]),l("div",ne,[l("span",null,o(e(a)("account.alreadyRegisteredNotActivated")),1),n(V,{onClick:r[5]||(r[5]=s=>e(A).push({name:"resend"}))},{default:c(()=>[i(o(e(a)("account.resendActivationEmail")),1)]),_:1})]),n(B,{absolute:"","top-4":"","right-8":""})])}}}),_e=H(le,[["__scopeId","data-v-e4894c4a"]]);export{_e as default};
